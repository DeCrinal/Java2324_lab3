# Лабораторная работа №3 - Музей
<h1>Задание</h1>
В данной работе необходимо написать многопоточное приложение, которое эмулирует заданную модель. Студент сам должен спроектировать потоки, которые отвечают за поведение сущностей из полученного задания. Взаимодействие потоков должно быть синхронизировано и приложение должно быть протестирование на наличие dead locks и race conditions. Приложение не должно переставать работать из-за изменения задержек и модель не должна быть полностью синхронной.
<br><br>
Музей. Музейщик позволяет посетителям входить через восточный вход и выходить через западный выход. Прибытие и уход посетителей определяются в музее с помощью турникетов на входе и выходе. Во время открытия директор музея сигнализирует контроллеру, что музей открыт, и тогда контроллер разрешает вход и выход в музей. Во время закрытия директор сигнализирует что музей закрыт, на этот момент прибытие посетителей запрещено контроллером. Должно быть четыре процесса: East, West, Control and Director.
<h1>Реализация</h1>
<h2>Класс Museum</h2>
Описание класса:

Класс Museum моделирует работу музея с двумя входами (восточный и западный) и динамическим числом посетителей. Музей может быть открыт или закрыт. Вход и выход из музея возможен только в открытом состоянии.

Классы:
<ul>
  <li>Museum: главный класс, который моделирует работу музея;</li>
  <li>EastEntrance: поток, моделирующий восточный вход;</li>
  <li>WestExit: поток, моделирующий западный выход;</li>
  <li>Control: поток, моделирующий контроллера, который периодически проверяет состояние музея;</li>
  <li>Director: поток, моделирующий директора, который периодически меняет состояние музея (открывает/закрывает).</li>
</ul>
    
    

Атрибуты:
<ul>
  <li>isOpen: флаг, который показывает, открыт ли музей.</li>
  <li> lock: объект ReentrantLock, который используется для синхронизации</li>
  <li>musEnv: объект класса Enviroment, который содержит параметры работы музея (время прохода)</li>
</ul>
    


Методы:

```startWork()```: запускает все потоки, моделирующие работу музея.

Потоки:

EastEntrance. Бесконечно циклично:
<ul>
        <li>Эмулирует время прохода через восточный вход;</li>
        <li>Блокирует доступ к musEnv с помощью lock;</li>
        <li>Если музей открыт, увеличивает число посетителей;</li>
        <li>Разблокирует доступ к musEnv.</li>
</ul>
                    
WestExit. Бесконечно циклично:
<ul>
  <li>Эмулирует время прохода через западный выход;</li>
  <li>Блокирует доступ к musEnv с помощью lock;</li>
  <li>Если музей открыт и есть посетители, уменьшает число посетителей;</li>
  <li>Разблокирует доступ к musEnv.</li>
</ul>
    
Control. Бесконечно циклично:
<ul>
  <li>Эмулирует время проверки состояния музея;</li>
  <li>Блокирует доступ к musEnv с помощью lock;</li>
  <li>Выводит сообщение о проверке;</li>
  <li>Разблокирует доступ к musEnv.</li>
</ul>

Director. Бесконечно циклично:
<ul>
  <li>Эмулирует время смены состояния музея;</li>
  <li>Блокирует доступ к musEnv с помощью lock;</li>
  <li>Меняет флаг isOpen на противоположный;</li>
  <li>Выводит сообщение о смене состояния;</li>
  <li>Если музей закрыт, выводит сообщение о количестве запертых посетителей;</li>
  <li>Разблокирует доступ к musEnv.</li>
</ul>

<h2>
Класс Main</h2>

Класс Main является точкой входа для симуляции работы музея. Он создает экземпляр класса Museum и вызывает метод ```startWork()```.
            
<h1>Результат работы программы</h1>
            
            
            
